# sd-webui-prompt-all-in-one

[![GitHub stars](https://img.shields.io/github/stars/Physton/sd-webui-prompt-all-in-one?style=plastic)](https://github.com/Physton/sd-webui-prompt-all-in-one/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/Physton/sd-webui-prompt-all-in-one?style=plastic)](https://github.com/Physton/sd-webui-prompt-all-in-one/network/members)
[![GitHub issues](https://img.shields.io/github/issues/Physton/sd-webui-prompt-all-in-one?style=plastic)](https://github.com/Physton/sd-webui-prompt-all-in-one/issues)
[![GitHub license](https://img.shields.io/github/license/Physton/sd-webui-prompt-all-in-one?style=plastic)](https://github.com/Physton/sd-webui-prompt-all-in-one/blob/master/LICENSE.md)

sd-webui-prompt-all-in-one is an extension based on stable-diffusion-webui that aims to improve the user experience of the prompt/negative prompt input box. It has a more intuitive and powerful input interface, provides automatic translation, history and collection functions, and supports multiple languages to meet the needs of different users.

*sd-webui-prompt-all-in-one æ˜¯ä¸€ä¸ªåŸºäº stable-diffusion-webui çš„æ‰©å±•ï¼Œæ—¨åœ¨æé«˜æç¤ºè¯/åå‘æç¤ºè¯è¾“å…¥æ¡†çš„ä½¿ç”¨ä½“éªŒã€‚å®ƒæ‹¥æœ‰æ›´ç›´è§‚ã€å¼ºå¤§çš„è¾“å…¥ç•Œé¢åŠŸèƒ½ï¼Œå®ƒæä¾›äº†è‡ªåŠ¨ç¿»è¯‘ã€å†å²è®°å½•å’Œæ”¶è—ç­‰åŠŸèƒ½ï¼Œå®ƒæ”¯æŒå¤šç§è¯­è¨€ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€æ±‚ã€‚*

---

The currently supported languages are: `ä¸­æ–‡` `English` ` Ğ ÑƒÑÑĞºĞ¸Ğ¹` `æ—¥æœ¬èª` `í•œêµ­ì–´` ` FranÃ§ais` `Deutsch` ` EspaÃ±ol` `PortuguÃªs` `Italiano` `Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©`. If you would like to add a new language, please submit a PR.

*ç›®å‰æ”¯æŒçš„è¯­è¨€æœ‰ï¼š`ä¸­æ–‡` `English` ` Ğ ÑƒÑÑĞºĞ¸Ğ¹` `æ—¥æœ¬èª` `í•œêµ­ì–´` ` FranÃ§ais` `Deutsch` ` EspaÃ±ol` `PortuguÃªs` `Italiano` `Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©`ã€‚å¦‚æœä½ æƒ³è¦æ·»åŠ æ–°çš„è¯­è¨€ï¼Œæ¬¢è¿æäº¤ PRã€‚*


> If you find this extension helpful, please give me a star on Github!
> You could also buy me a coffee: [donate](#donate)

> å¦‚æœä½ è§‰å¾—è¿™ä¸ªæ‰©å±•æœ‰å¸®åŠ©ï¼Œè¯·åœ¨Githubä¸Šç»™æˆ‘ä¸€é¢—æ˜Ÿï¼
> ä½ ä¹Ÿå¯ä»¥è¯·æˆ‘å–æ¯å’–å•¡: [donate](#donate)

## Features / *åŠŸèƒ½ç‰¹æ€§*

- More intuitive and powerful prompt input interface: supports adding new keywords with one click, drag and drop sorting, one-click copying and one-click translation. At the same time, the interface can display the translation results of English<->local language intuitively.

    *æ›´ç›´è§‚ã€å¼ºå¤§çš„ prompt è¾“å…¥ç•Œé¢ï¼šæ”¯æŒå›è½¦æ·»åŠ æ–°å…³é”®è¯ã€æ‹–åŠ¨æ’åºã€ä¸€é”®å¤åˆ¶å’Œä¸€é”®ç¿»è¯‘ã€‚åŒæ—¶ï¼Œç•Œé¢ä¸­èƒ½å¤Ÿç›´è§‚åœ°æ˜¾ç¤ºè‹±æ–‡<->æœ¬åœ°è¯­è¨€çš„ç¿»è¯‘ç»“æœã€‚*

- Automatic translation: automatically translate the local language into English, and translate the English input of the prompt into the local language at the same time.

    *è‡ªåŠ¨ç¿»è¯‘ï¼šè‡ªåŠ¨å°†æœ¬åœ°è¯­è¨€ç¿»è¯‘æˆè‹±æ–‡ï¼ŒåŒæ—¶å°† prompt è¾“å…¥çš„è‹±æ–‡ç¿»è¯‘æˆæœ¬åœ°è¯­è¨€ã€‚*

- History and collection: support recording the history and collection of the prompt, making it convenient for users to quickly search and use.

    *å†å²è®°å½•å’Œæ”¶è—ï¼šæ”¯æŒè®°å½• prompt çš„å†å²è®°å½•å’Œæ”¶è—ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€ŸæŸ¥æ‰¾å’Œä½¿ç”¨ã€‚*

- Multi-language support: currently supports Simplified Chinese, Traditional Chinese, English, Russian, Japanese, Korean, French, German, Spanish, Portuguese, Italian, and Spanish, meeting the needs of different users.

    *å¤šå›½è¯­è¨€æ”¯æŒï¼šç›®å‰æ”¯æŒç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ã€è‹±æ–‡ã€ä¿„è¯­ã€æ—¥è¯­ã€éŸ©è¯­ã€æ³•è¯­ã€å¾·è¯­ã€è¥¿ç­ç‰™è¯­ã€è‘¡è„ç‰™è¯­ã€æ„å¤§åˆ©è¯­ã€è¥¿ç­ç‰™è¯­ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€æ±‚ã€‚*

## Installation and Usage / *å®‰è£…ä½¿ç”¨*

### Method 1 (Recommended) / *æ–¹å¼ä¸€ï¼ˆæ¨èï¼‰*ï¼š 

1. Open the terminal and enter your stable-diffusion-webui directory.

    *æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥åˆ°ä½ çš„ stable-diffusion-webui ç›®å½•ä¸‹ã€‚*

    For example / *ä¾‹å¦‚*ï¼š
   
    `cd "C:\stable-diffusion-webui"`


2. Use git to clone sd-webui-prompt-all-in-one to the extensions directory of stable-diffusion-webui.

    *ä½¿ç”¨ git å…‹éš† sd-webui-prompt-all-in-one åˆ° stable-diffusion-webui çš„ extensions ç›®å½•ä¸‹ã€‚*

    ```shell
    git clone "https://github.com/Physton/sd-webui-prompt-all-in-one.git" extensions/sd-webui-prompt-all-in-one
    ```

3. Restart stable-diffusion-webui.

   *é‡å¯ stable-diffusion-webuiã€‚*

### Method 2 / *æ–¹å¼äºŒ*ï¼š
1. Download the source code package of sd-webui-prompt-all-in-one, and unzip it to the extensions directory of stable-diffusion-webui.

    *ä¸‹è½½ sd-webui-prompt-all-in-one çš„æºç å‹ç¼©åŒ…ï¼Œè§£å‹åˆ° stable-diffusion-webui çš„ extensions ç›®å½•ä¸‹ã€‚*

### Method 3 / *æ–¹å¼ä¸‰*ï¼š
1. In the extension tab of stable-diffusion-webui, select "Install from URL", enter `https://github.com/Physton/sd-webui-prompt-all-in-one.git`, and click on install.

    *åœ¨ stable-diffusion-webui çš„æ‰©å±•é€‰é¡¹å¡ä¸­ï¼Œé€‰æ‹©ä»ç½‘å€å®‰è£…ï¼Œè¾“å…¥ `https://github.com/Physton/sd-webui-prompt-all-in-one.git`, ç„¶åç‚¹å‡»å®‰è£…ã€‚*


2. Restart stable-diffusion-webui.

   *é‡å¯ stable-diffusion-webuiã€‚*

## Demo / *æ¼”ç¤º*

- Automatic translation / *è‡ªåŠ¨ç¿»è¯‘*

  ![](images/auto_translate.gif)

- One-click translation / *ä¸€é”®ç¿»è¯‘*

  ![](images/translate.gif)

- Feature 1 / *ç‰¹æ€§1*

  ![](images/feature1.gif)

- Feature 2 / *ç‰¹æ€§2*

  ![](images/feature2.gif)


## Update Record / *æ›´æ–°è®°å½•*
[c056ac8](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/c056ac8) Fix the issue: after manually adding weight to keywords, there is no input box for weight quantity. *ä¿®å¤é—®é¢˜ï¼šæ‰‹åŠ¨ç»™å…³é”®è¯æ·»åŠ æƒé‡æ•°åï¼Œæ²¡æœ‰å¿«æ·è®¾ç½®æ•°é‡è¾“å…¥æ¡†*

[9fdc680](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/9fdc680) Fix the issue [#1](https://github.com/Physton/sd-webui-prompt-all-in-one/issues/1): Conflict with tagcomplete causing the inability to select tags in tagcomplete. *ä¿®å¤é—®é¢˜ [#1](https://github.com/Physton/sd-webui-prompt-all-in-one/issues/1)ï¼šä¸tagcompleteå†²çªï¼Œå¯¼è‡´tagcompleteæ— æ³•é€‰æ‹©tag*

[28bf6f6](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/28bf6f6) The Tag input box has been optimized and
some issues have been fixed. Continuously optimizing... *ä¼˜åŒ–Tagè¾“å…¥æ¡†ï¼Œä¿®å¤äº†ä¸€äº›é—®é¢˜ï¼ŒæŒç»­ä¼˜åŒ–ä¸­...*

[b10f43a](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/b10f43a) Optimize the Tag input box. Now you can directly set the weight for keywords without parentheses. In some languages, such as Chinese, where parentheses are not equivalent to English punctuation marks, it will also be automatically converted to English format, like "(girl: 0.1)", when setting the weight for text such as "ï¼ˆå¥³å­©ï¼š0.1ï¼‰". *ä¼˜åŒ–Tagè¾“å…¥æ¡†ï¼Œç°åœ¨å¯ä»¥ä¸ºæ²¡æœ‰æ‹¬å·çš„å…³é”®è¯ç›´æ¥è®¾ç½®æƒé‡æ•°ã€‚åœ¨ä¸€äº›è¯­è¨€ä¸­ï¼Œä¾‹å¦‚ä¸­æ–‡æ–‡æœ¬ï¼šï¼ˆå¥³å­©ï¼š0.1ï¼‰ï¼Œè¿™ç§å¹¶ä¸æ˜¯è‹±æ–‡æ ‡ç‚¹ç¬¦å·çš„ï¼Œä¹Ÿä¼šè‡ªåŠ¨å¤„ç†æˆè‹±æ–‡ï¼š(girl:0.1)ã€‚*

[a77a85f](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/a77a85f) Modify the color of certain buttons. *ä¿®æ”¹éƒ¨åˆ†æŒ‰é’®é¢œè‰²ã€‚*

[2cc08e5](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/2cc08e5) UI optimization. *UIä¼˜åŒ–ã€‚*

[70f56f7](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/70f56f7) Fixed the problem where the Alibaba API
could not be used for Traditional Chinese. *ä¿®å¤äº†é˜¿é‡Œå·´å·´æ¥å£ç¹ä½“ä¸­æ–‡ä¸èƒ½ä½¿ç”¨çš„é—®é¢˜*

[aac2c76](https://github.com/Physton/sd-webui-prompt-all-in-one/commit/aac2c76) Adjusting the data storage path location. *è°ƒæ•´æ•°æ®å­˜å‚¨è·¯å¾„ä½ç½®ã€‚*

## Contributing / *å¸®åŠ©å¼€å‘*

If you want to contribute to sd-webui-prompt-all-in-one, welcome to submit issues and pull requests. You can also
contact me via:

*å¦‚æœä½ æƒ³ä¸º sd-webui-prompt-all-in-one åšå‡ºè´¡çŒ®ï¼Œæ¬¢è¿æäº¤ issue å’Œ pull requestã€‚åŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š*

- Email / *é‚®ç®±*ï¼šphyston@163.com
- Wechat / *å¾®ä¿¡*ï¼šphyston8
- QQç¾¤ï¼š820700336

## Development / *å¼€å‘æ–¹å¼*

- Front-end development (vue) / *å‰ç«¯å¼€å‘ï¼ˆvueï¼‰*
  1. Enter the src directory / *è¿›å…¥ src ç›®å½•*ï¼š
     
        `cd ./sd-webui-prompt-all-in-one/src`
  
  2. Initialize the node environment / *åˆå§‹åŒ–nodeç¯å¢ƒ*ï¼š
  
        `npm install`

  3. Modify the code / *ä¿®æ”¹ä»£ç *
  4. Compile / *ç¼–è¯‘*ï¼š
  
        `npm run build`
  
  5. Restart stable-diffusion-webui / *é‡å¯ stable-diffusion-webuiã€‚*

- Back-end development (python) / *åç«¯å¼€å‘ï¼ˆpythonï¼‰*
  1. Enter the extension directory / *è¿›å…¥æ‰©å±•ç›®å½•*ï¼š`cd ./sd-webui-prompt-all-in-one`
  2. Modify the code / *ä¿®æ”¹ä»£ç *
  3. Restart stable-diffusion-webui / *é‡å¯ stable-diffusion-webuiã€‚*

## Future / *æœªæ¥è®¡åˆ’*

- Support more languages / *æ”¯æŒæ›´å¤šçš„è¯­è¨€*
- Optimize translation services / *ä¼˜åŒ–ç¿»è¯‘æœåŠ¡*
- More powerful history function / *æ›´å¼ºå¤§çš„å†å²è®°å½•åŠŸèƒ½*
- ......

## FAQ / *å¸¸è§é—®é¢˜åˆ—è¡¨*

### Q: What is the difference between translation interfaces that do not require API keys and those that require API keys?

A: The translation interface that does not require an API key is obtained through crawling and does not require the user to apply for an API key. However, there may be translation failures, instability, slow speed, and lack of support for concurrency. The translation interface that requires an API key calls the API interface of a third-party translation service and requires the user to apply for an API key. However, the translation success rate is relatively high, some interfaces support high concurrency, and the translation speed is fast.

### Q: Unable to use translation service, clicking "Test!" results in "No module named 'xxx'" error message?

A:  This is because the dependencies required by webui are not installed properly at startup. You can solve this issue by following these steps:

1. Switch to the python/bin directory used by sd-webui.
2. Run the following commands:
   ```
   ./python -m pip install translators
   ./python -m pip install openai
   ./python -m pip install boto3
   ./python -m pip install aliyun-python-sdk-core
   ./python -m pip install aliyun-python-sdk-alimt
   ./python -m pip install tencentcloud-sdk-python
   ```
3. After the installation is complete, restart webui.

### Q: æ— éœ€api keyçš„ç¿»è¯‘æ¥å£å’Œéœ€è¦api keyçš„ç¿»è¯‘æ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

A: æ— éœ€api keyçš„ç¿»è¯‘æ¥å£ï¼Œæ˜¯é€šè¿‡çˆ¬è™«è·å–çš„ï¼Œä¸éœ€è¦ç”¨æˆ·è‡ªå·±ç”³è¯·api keyï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨ç¿»è¯‘å¤±è´¥çš„æƒ…å†µï¼Œç¨³å®šä¸‹å·®ï¼Œé€Ÿåº¦æ…¢ï¼Œä¸æ”¯æŒå¹¶å‘ã€‚éœ€è¦api keyçš„ç¿»è¯‘æ¥å£ï¼Œæ˜¯é€šè¿‡è°ƒç”¨ç¬¬ä¸‰æ–¹ç¿»è¯‘æœåŠ¡çš„apiæ¥å£ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±ç”³è¯·api keyï¼Œä½†æ˜¯ç¿»è¯‘æˆåŠŸç‡è¾ƒé«˜ï¼ŒæŸäº›æ¥å£æ”¯æŒé«˜å¹¶å‘ï¼Œç¿»è¯‘é€Ÿåº¦å¿«ã€‚

### Q: æ— æ³•ä½¿ç”¨ç¿»è¯‘æœåŠ¡ï¼Œç‚¹å‡»â€œTest!â€ï¼Œæç¤ºâ€œNo module named 'xxx'â€ï¼Ÿ

A: è¿™æ˜¯ç”±äºwebuiå¯åŠ¨æ—¶ï¼Œæ²¡æœ‰æ­£ç¡®çš„å®‰è£…ä¾èµ–å¯¼è‡´çš„ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³ï¼š
1. åˆ‡æ¢åˆ°webuiæ‰€ä½¿ç”¨çš„python/binç›®å½•ã€‚
2. æ‰§è¡Œå‘½ä»¤ï¼š
   ```
   ./python -m pip install translators
   ./python -m pip install openai
   ./python -m pip install boto3
   ./python -m pip install aliyun-python-sdk-core
   ./python -m pip install aliyun-python-sdk-alimt
   ./python -m pip install tencentcloud-sdk-python
   ```
3. ç­‰å¾…å®‰è£…å®Œæˆåï¼Œé‡å¯webuiã€‚

## Donate

### Buy me a coffee / *è¯·æˆ‘å–æ¯å’–å•¡*

#### Click / *ç‚¹å‡»* ğŸ‘‰ [![](https://liberapay.com/assets/widgets/donate.svg)](https://liberapay.com/physton/donate)

#### BTC-Bitcoin `3LdXwHkkVsspQzgowdy3pymwty9LiFBHda`

#### ETH-Ethereum `3DbapbGRQdbrDqBazBPYWfyKjbM5uN2SDy`

#### USDT-ERC20 `0xb8b7a067c5639e7befb9665be9bd00a4c75b6614`

#### USDT-TRC20 `TWtnKQgSTpHu1eiQGrppSniGyzYtggZYFf`

#### Paypal `physton@163.com`

#### Alipay / æ”¯ä»˜å® `physton@163.com`

#### Wechat / å¾®ä¿¡èµèµ 

![](images/donate-wechat.jpg)

Developed by: https://www.physton.com
